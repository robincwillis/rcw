<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title></title>
</head>
<body>
<script type="text/javascript">

var Subject = function(duration, numToLoad, selector){
	this.now = new Date(); //What time is it?
	this.subscribers = [];
	return this;
};



Subject.prototype.addSubscriber = function subscribeObject(obj, callback){
		this.subscribers.push( {"obj":obj,"callback":callback} );
};

Subject.prototype.removeSubscriber = function subscribeObject(obj){
	for( var i = 0, len = this.subscribers.length; i < len; i++ ) {
		if( this.subscribers[i].obj === obj ) {
			this.subscribers.splice( i, 1 );
			return true;
		}
	}
	return false;
};

Subject.prototype.notify = function notifySubscribers() {
	var args = Array.prototype.slice.call( arguments, 0 );
	for( var i = 0, len = this.subscribers.length; i < len; i++ ) {
		this.subscribers[i].callback.apply(this.subscribers[i].obj, args);
	}
};

var Observer = function(name){
	this.name = name;
	return this;
};

Observer.prototype.doMe = function doMe(message){
	console.log(this.name + ' is doing Me: ' + message);
};

Observer.prototype.doYou = function doYou(message){
	console.log(this.name + ' is doing You: ' + message);
};

var subject = new Subject();
var observer1 = new Observer('observer1');
var observer2 = new Observer('observer2');

subject.addSubscriber(observer1, observer1.doMe);
subject.addSubscriber(observer2, observer2.doYou);
subject.notify(subject.now);
subject.removeSubscriber(observer2);
subject.notify("or pass whatever message we want");

</script>
</body>
</html>