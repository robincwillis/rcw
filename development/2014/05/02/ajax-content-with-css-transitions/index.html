<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie ie9 ie8 ie7"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie ie9 ie8"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie ie9"> <![endif]-->
<!--[if IE 9 ]>         <html class="ie ie9"> <![endif]-->
<!--[if IE 10]>         <html class="no-js ie ie10"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js"> <!--<![endif]-->
<!-- [if !IE]><!-->     <html><!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>RCW Ajax Content With CSS Transitions</title>
        <!-- META -->
        
        <meta name="description" content="Exploring how to ajax in fresh content to page with css3 transitions for a smooth time." />
        
        
        <meta name="keywords" content="javascript,ajax,css,css3" />
        
        <meta name="author" content="Robin Willis" />
        <!-- OG -->
        <meta property="og:title" content="RCW | Ajax Content With CSS Transitions" />
        
        <meta property="og:description" content="Exploring how to ajax in fresh content to page with css3 transitions for a smooth time." />
        
        
        <meta property="og:image" content="http://s3.amazonaws.com/robincwillis/img/splash/03.jpg" />
        

        <!-- ICON -->
        <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">
        <link rel="icon" href="/favicon.png" type="image/x-icon">
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png">
        <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
        <!-- IOS -->
        <meta name="apple-mobile-web-app-title" content="Robin Willis">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1">
        <!-- vendor CSS -->
        <link rel="stylesheet" type="text/css" href="/css/vendor/normalize.css">
        <link rel="stylesheet" type="text/css" href="/css/vendor/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/css/vendor/bootstrap-responsive.min.css">
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
        <script type="text/javascript" src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>

    </head>
    <body class="Ajax Content With CSS Transitions">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
          	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<div class="row-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a href="/" class="brand">RCW</a>
				<div class="nav-collapse collapse pull-right">
					<ul class="nav">
						<li><a href="/blog" title="Blog">BLOG</a></li>
						<li><a href="http://portfolio.robincwillis.com" title="Work">WORK</a></li>
						<li><a href="/projects" title="Code">CODE</a></li>
					</ul>
				</div>
				</div>
				<div class="row-fluid">
						<hr>
				</div>

		</div>
	</div>
</div>
<div class="container-fluid">

</div>
          <div class="container-fluid container-blog">
	<div class="row-fluid">
		<!--<div class="span2">
   <ul class="unstyled sidebar">
    <li><h4><a href="/">Posts</a></h4></li>
    <li><h4><a href="/projects">Projects</a></h4></li>
    <li><img src="/assets/img/profile.png"></li>
    <li>
      <h4>Robin Willis</h4>
      <p class="small">is a critical and creative workaholic who left Los Angeles for New York City to study art and design at The Cooper Union school of Art, and then Cambridge to study architecture at MIT. I'm back in New York. The rest is a long story.</p>
    </li>
  </ul>
</div>
-->
			<div class="span8">
				<h2>Ajax Content With CSS Transitions</h2>
				<div class="post">
				<p>Often times one will want to load in some fresh content without loading a new page. You know by now ajax is the way to do this. Say we are not using something super fresh like Angular or Ember, you also know jQuery makes this really easy. However appending or replacing content on in the dom can be pretty disrupting for your page layout and overall experience. Things can jump, scrollbars can appear etc. So you want to animate these changes to the layout to provide a smooth transition. You also know CSS3 is the way to go to add these transitions so you might do something like this.</p>

<!--more-->

<h4>Example 1</h4>

<p>we have some content we want to load via ajax, here is a simple example for acoomplishing this.</p>

<p>we are gonna add some more via ajax.</p>

<p>for example something like this <code class="inline-code">content.html</code>.</p>
<div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;content2&quot;</span><span class="nt">&gt;</span>
<a name="line-2"></a>    <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="nt">&lt;/p&gt;</span>
<a name="line-3"></a>    <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="nt">&lt;/p&gt;</span>
<a name="line-4"></a><span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>and in our main page <code class="inline-code">index.html</code>.</p>
<div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;</span>
<a name="line-2"></a>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
<a name="line-3"></a>        <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="nt">&lt;/p&gt;</span>
<a name="line-4"></a>    <span class="nt">&lt;/div&gt;</span>
<a name="line-5"></a><span class="nt">&lt;/div&gt;</span>
</code></pre></div>
<p>Now lets add some javascript to load our content from <code class="inline-code">content.html</code></p>
<div class="highlight"><pre><code class="javascript"><a name="line-1"></a><span class="nx">appendContent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-2"></a>    <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<a name="line-3"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">empty</span><span class="p">();</span>
<a name="line-4"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>
<a name="line-5"></a><span class="p">};</span>
<a name="line-6"></a><span class="nx">loadContent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">callback</span><span class="p">){</span>
<a name="line-7"></a>    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
<a name="line-8"></a>      <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
<a name="line-9"></a>    <span class="p">})</span>
<a name="line-10"></a>  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
<a name="line-11"></a>    <span class="nx">callback</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="nx">target</span><span class="p">));</span>
<a name="line-12"></a>  <span class="p">});</span>
<a name="line-13"></a><span class="p">};</span>
</code></pre></div>
<p>the <code class="inline-code">loadContent</code> function makes an ajax call and then passes the response to a callback function. the <code class="inline-code">appendContent</code> function simple appends some content to an element.</p>
<div class="highlight"><pre><code class="javascript"><a name="line-1"></a><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.loadContent&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
<a name="line-2"></a>    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
<a name="line-3"></a>    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span>   <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">);</span>
<a name="line-4"></a>    <span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">);</span>
<a name="line-5"></a>    <span class="nx">loadContent</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">appendContent</span><span class="p">);</span>
<a name="line-6"></a><span class="p">});</span>
</code></pre></div>
<p>and add a link to <code class="inline-code">index.html</code></p>
<div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">data-url=</span><span class="s">&quot;content.html&quot;</span> <span class="na">data-target=</span><span class="s">&quot;.item&quot;</span> <span class="na">class=</span><span class="s">&quot;loadContent&quot;</span><span class="nt">&gt;</span>Load that ish<span class="nt">&lt;/a&gt;</span>
</code></pre></div>
<p>So this is fine and all but it&#39;s a little abrupt when we replace the content.</p>

<h4>Example 2</h4>

<p>ok lets add some css3 transitions to it. Here i&#39;ll forget about the ajax for now, and just append a string to the dom.</p>

<p>One of the easiest ways to trigger css3 animations through javascript, is through adding / removing a class and remove a class</p>
<div class="highlight"><pre><code class="css"><a name="line-1"></a><span class="nc">.item</span><span class="p">{</span>
<a name="line-2"></a>    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
<a name="line-3"></a>    <span class="k">width</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span>
<a name="line-4"></a>    <span class="k">background-color</span><span class="o">:</span> <span class="nb">tan</span><span class="p">;</span>
<a name="line-5"></a>    <span class="k">margin</span><span class="o">:</span><span class="m">20px</span> <span class="m">0</span><span class="p">;</span>
<a name="line-6"></a>    <span class="k">min-height</span><span class="o">:</span> <span class="m">90px</span><span class="p">;</span>
<a name="line-7"></a>    <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
<a name="line-8"></a><span class="p">}</span>
<a name="line-9"></a><span class="nc">.content</span><span class="p">{</span>
<a name="line-10"></a>    <span class="k">padding</span><span class="o">:</span><span class="m">20px</span><span class="p">;</span>
<a name="line-11"></a>    <span class="k">background</span><span class="o">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">.</span><span class="m">4</span><span class="p">);</span>
<a name="line-12"></a>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-13"></a>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-14"></a>    <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-15"></a>    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-16"></a>    <span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-17"></a><span class="p">}</span>
<a name="line-18"></a><span class="nc">.beforeSlide</span><span class="p">{</span>
<a name="line-19"></a>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-20"></a>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-21"></a>    <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-22"></a>    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-23"></a>    <span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-24"></a><span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;ex1&quot;</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<a name="line-2"></a><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;one&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>Slide Ex1 using removeClass<span class="nt">&lt;/a&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="javascript"><a name="line-1"></a>    <span class="kd">var</span> <span class="nx">slideInOne</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-2"></a>        <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
<a name="line-3"></a>        <span class="nx">$target</span><span class="p">.</span><span class="nx">empty</span><span class="p">();</span>
<a name="line-4"></a>        <span class="nx">$target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>
<a name="line-5"></a>        <span class="nx">$el</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;beforeSlide&#39;</span><span class="p">);</span>
<a name="line-6"></a>    <span class="p">};</span>
<a name="line-7"></a>
<a name="line-8"></a>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a#one&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
<a name="line-9"></a>        <span class="nx">slideInOne</span><span class="p">(</span><span class="nx">content</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#ex1&quot;</span><span class="p">));</span>
<a name="line-10"></a>    <span class="p">});</span>
</code></pre></div>
<p>ok that didn&#39;t work, lets just add the css properties manually.</p>
<div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;ex2&quot;</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<a name="line-2"></a><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;two&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>Slide Ex2 using css<span class="nt">&lt;/a&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="javascript"><a name="line-1"></a><span class="kd">var</span> <span class="nx">slideInTwo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-2"></a>    <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
<a name="line-3"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>
<a name="line-4"></a>    <span class="nx">$el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span>
<a name="line-5"></a>        <span class="s2">&quot;-webkit-transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(0)&quot;</span><span class="p">,</span>
<a name="line-6"></a>        <span class="s2">&quot;-moz-transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(0)&quot;</span><span class="p">,</span>
<a name="line-7"></a>        <span class="s2">&quot;-o-transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(0)&quot;</span><span class="p">,</span>
<a name="line-8"></a>        <span class="s2">&quot;-ms-transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(0)&quot;</span><span class="p">,</span>
<a name="line-9"></a>        <span class="s2">&quot;transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(0)&quot;</span>
<a name="line-10"></a>    <span class="p">});</span>
<a name="line-11"></a><span class="p">};</span>
<a name="line-12"></a><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a#two&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
<a name="line-13"></a>    <span class="nx">slideInTwo</span><span class="p">(</span><span class="nx">content</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#ex2&quot;</span><span class="p">));</span>
<a name="line-14"></a><span class="p">});</span>
</code></pre></div>
<p>still no dice
The trick is wrapping this in a setTimeout function</p>
<div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;ex3&quot;</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<a name="line-2"></a><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">&quot;three&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>Slide Ex3 with setTimeout (works?)<span class="nt">&lt;/a&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="javascript"><a name="line-1"></a><span class="kd">var</span> <span class="nx">slideInThree</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-2"></a>    <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
<a name="line-3"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>
<a name="line-4"></a>     <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<a name="line-5"></a>        <span class="nx">$el</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;beforeSlide&#39;</span><span class="p">);</span>
<a name="line-6"></a>     <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
<a name="line-7"></a><span class="p">};</span>
<a name="line-8"></a>
<a name="line-9"></a><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a#three&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
<a name="line-10"></a>    <span class="nx">slideInThree</span><span class="p">(</span><span class="nx">content</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#ex3&quot;</span><span class="p">));</span>
<a name="line-11"></a><span class="p">});</span>
</code></pre></div>
<p>I have to be honest, I am not sure why or how the above things do not work but they don&#39;t. The solution is setTimeout. add a setTimeout function with like 1ms and whola there you go.</p>

<h4>Example 3</h4>

<p>Now that we figured  that out lets put what we learned into a functional demo.</p>
<div class="highlight"><pre><code class="css"><a name="line-1"></a><span class="nc">.item</span><span class="p">{</span>
<a name="line-2"></a>    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
<a name="line-3"></a>    <span class="k">width</span><span class="o">:</span> <span class="m">500px</span><span class="p">;</span>
<a name="line-4"></a>    <span class="k">background-color</span><span class="o">:</span> <span class="nb">tan</span><span class="p">;</span>
<a name="line-5"></a>    <span class="k">margin</span><span class="o">:</span><span class="m">0</span> <span class="k">auto</span><span class="p">;</span>
<a name="line-6"></a>    <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
<a name="line-7"></a>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">height</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-8"></a>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">height</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-9"></a>    <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">height</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-10"></a>    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="k">height</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-11"></a>    <span class="n">transition</span><span class="o">:</span> <span class="k">height</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-12"></a><span class="p">}</span>
<a name="line-13"></a><span class="nc">.content</span><span class="p">{</span>
<a name="line-14"></a>    <span class="k">padding</span><span class="o">:</span><span class="m">20px</span><span class="p">;</span>
<a name="line-15"></a>    <span class="k">background</span><span class="o">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">255</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">.</span><span class="m">4</span><span class="p">);</span>
<a name="line-16"></a>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-17"></a>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-18"></a>    <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-19"></a>    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-20"></a>    <span class="n">transition</span><span class="o">:</span> <span class="n">all</span> <span class="m">0.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="o">-</span><span class="n">out</span><span class="p">;</span>
<a name="line-21"></a><span class="p">}</span>
<a name="line-22"></a><span class="nc">.content2</span><span class="p">{</span>
<a name="line-23"></a>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-24"></a>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-25"></a>    <span class="o">-</span><span class="n">o</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-26"></a>    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-27"></a>    <span class="n">transform</span><span class="o">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">100%</span><span class="p">);</span>
<a name="line-28"></a><span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="html"><a name="line-1"></a><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;item&quot;</span><span class="nt">&gt;</span>
<a name="line-2"></a>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
<a name="line-3"></a>        <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="nt">&lt;/p&gt;</span>
<a name="line-4"></a>        <span class="nt">&lt;p&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="nt">&lt;/p&gt;</span>
<a name="line-5"></a>    <span class="nt">&lt;/div&gt;</span>
<a name="line-6"></a><span class="nt">&lt;/div&gt;</span>
</code></pre></div><div class="highlight"><pre><code class="javascript"><a name="line-1"></a><span class="kd">var</span> <span class="nx">slideOut</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-2"></a>    <span class="kd">var</span> <span class="nx">deferred</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">$</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">();</span>
<a name="line-3"></a>    <span class="kd">var</span> <span class="nx">preloader</span> <span class="o">=</span> <span class="s1">&#39;&lt;div class=&quot;preloader&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
<a name="line-4"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">height</span> <span class="o">:</span> <span class="nx">$target</span><span class="p">.</span><span class="nx">height</span><span class="p">()});</span>
<a name="line-5"></a>    <span class="nx">$el</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="s2">&quot;-webkit-transform&quot;</span><span class="o">:</span><span class="s2">&quot;translateX(100%)&quot;</span><span class="p">});</span>
<a name="line-6"></a>  <span class="nx">$el</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;transitionend webkitTransitionEnd&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
<a name="line-7"></a>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">elapsedTime</span> <span class="o">+</span> <span class="s1">&#39;s&#39;</span><span class="p">);</span>
<a name="line-8"></a>        <span class="nx">deferred</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">$target</span><span class="p">);</span>
<a name="line-9"></a>    <span class="p">});</span>
<a name="line-10"></a>    <span class="k">return</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">();</span>
<a name="line-11"></a><span class="p">};</span>
<a name="line-12"></a>
<a name="line-13"></a><span class="kd">var</span> <span class="nx">slideIn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">){</span>
<a name="line-14"></a>    <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
<a name="line-15"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">empty</span><span class="p">();</span>
<a name="line-16"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>
<a name="line-17"></a>    <span class="nx">$target</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">height</span> <span class="o">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">});</span>
<a name="line-18"></a>    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<a name="line-19"></a>        <span class="nx">$el</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;content2&#39;</span><span class="p">);</span>
<a name="line-20"></a>     <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
<a name="line-21"></a><span class="p">};</span>
<a name="line-22"></a>
<a name="line-23"></a><span class="kd">var</span> <span class="nx">getData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">){</span>
<a name="line-24"></a>    <span class="kd">var</span> <span class="nx">deferred</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">$</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">();</span>
<a name="line-25"></a>  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
<a name="line-26"></a>      <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
<a name="line-27"></a>      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
<a name="line-28"></a>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ajax success&#39;</span><span class="p">);</span>
<a name="line-29"></a>        <span class="nx">deferred</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<a name="line-30"></a>      <span class="p">},</span>
<a name="line-31"></a>      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">ajaxOptions</span><span class="p">,</span> <span class="nx">thrownError</span><span class="p">)</span> <span class="p">{</span>
<a name="line-32"></a>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ajax error&#39;</span><span class="p">);</span>
<a name="line-33"></a>        <span class="nx">deferred</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">thrownError</span><span class="p">);</span>
<a name="line-34"></a>      <span class="p">}</span>
<a name="line-35"></a>    <span class="p">});</span>
<a name="line-36"></a>  <span class="k">return</span> <span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">();</span>
<a name="line-37"></a><span class="p">}</span>
<a name="line-38"></a>
<a name="line-39"></a><span class="kd">var</span> <span class="nx">loadContent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">target</span><span class="p">){</span>
<a name="line-40"></a>    <span class="nx">$el</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.content&#39;</span><span class="p">);</span>
<a name="line-41"></a>    <span class="nx">$target</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
<a name="line-42"></a>    <span class="kd">var</span> <span class="nx">slidePromise</span> <span class="o">=</span> <span class="nx">slideOut</span><span class="p">(</span><span class="nx">$el</span><span class="p">,</span> <span class="nx">$target</span><span class="p">);</span>
<a name="line-43"></a>    <span class="kd">var</span> <span class="nx">dataPromise</span> <span class="o">=</span> <span class="nx">getData</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<a name="line-44"></a>
<a name="line-45"></a>    <span class="nx">$</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="nx">slidePromise</span><span class="p">,</span> <span class="nx">dataPromise</span><span class="p">).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">slidePromise</span><span class="p">,</span> <span class="nx">dataPromise</span><span class="p">)</span> <span class="p">{</span>
<a name="line-46"></a>        <span class="nx">slideIn</span><span class="p">(</span><span class="nx">dataPromise</span><span class="p">,</span> <span class="nx">slidePromise</span> <span class="p">);</span>
<a name="line-47"></a>    <span class="p">});</span>
<a name="line-48"></a><span class="p">};</span>
<a name="line-49"></a>
<a name="line-50"></a><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.loadContent&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
<a name="line-51"></a>    <span class="kd">var</span> <span class="nx">url</span>     <span class="o">=</span>   <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">);</span>
<a name="line-52"></a>    <span class="kd">var</span> <span class="nx">target</span>  <span class="o">=</span>   <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;target&#39;</span><span class="p">);</span>
<a name="line-53"></a>    <span class="nx">loadContent</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">target</span><span class="p">);</span>
<a name="line-54"></a><span class="p">});</span>
</code></pre></div>
<p>If anyone has more information on this hit me up on twitter @robincwillis . I am curious.</p>

				</div>
			</div>
			<div class="span3 offset1 meta">
				

	
		<p class="date">2 May 2014</p>
	

	<ul class="tags unstyled">
	  
	
	  <li><a href="/tag/javascript">javascript</a></li>
	  
	  <li><a href="/tag/ajax">ajax</a></li>
	  
	  <li><a href="/tag/css">css</a></li>
	  
	  <li><a href="/tag/css3">css3</a></li>
	  
	
	</ul>
	<ul class="list-share">

		<li class="share-item">
<a class="share twitter" target="_blank" href="https://twitter.com/intent/tweet?url=http://robincwillis.com/2014/05/02/ajax-content-with-css-transitions/&text=Ajax%20Content%20With%20CSS%20Transitions&via=robincwillis"></a>

<a class="share-hover twitter-hover" target="_blank" href="https://twitter.com/intent/tweet?url=http://robincwillis.com/2014/05/02/ajax-content-with-css-transitions/&text=Ajax%20Content%20With%20CSS%20Transitions&via=robincwillis"></a>

		</li>

	</ul>



			</div>

	</div>
	<div class="row-fluid">
		<div class="span8">
		<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'robincwillis'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

		</div>
	</div>
</div>
          <footer>
<div class="container-fluid">
  <div class="row-fluid">
    <div class="center">

  <ul class="inline nav">
    <li class="social">
      <a href="https://twitter.com/robincillis" class="" target="_blank">
        <div class="social-inner twitter"></div>
      </a>
    </li>
    <li class="social">
      <a href="https://facebook.com/robincillis" class="" target="_blank">
        <div class="social-inner facebook"></div>
      </a>
    </li>
    <li class="social">
      <a href="https://linkedin.com/in/robincwillis" class="" target="_blank">
        <div class="social-inner linkedin"></div>
      </a>
    </li>
    <li class="social">
      <a href="https://github.com/robincwillis" class="" target="_blank">
        <div class="social-inner github"></div>
      </a>
    </li>
    <li class="social">
      <a href="http://instagram.com/robincwillis" class="" target="_blank">
        <div class="social-inner instagram"></div>
      </a>
    </li>
  </ul>

    </div>
  </div>
</div>
</footer>
        <script type="text/javascript" src="/js/vendor/jquery-1.10.1.min.js"></script>
        <script type="text/javascript" src="/js/vendor/bootstrap.min.js"></script>
        <script type="text/javascript" src="/js/vendor/jquery.cycle2.min.js"></script>
        <script type="text/javascript" src="/js/main.js"></script>
        <script type="text/javascript">
             var _gaq = _gaq || [];
             _gaq.push(['_setAccount', 'UA-4803873-2']);
             _gaq.push(['_setDomainName', '.robincwillis.com']);
             _gaq.push(['_trackPageview','/']);

            (function() {
               var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
               ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
               var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
               })();
        </script>
    </body>
</html>
